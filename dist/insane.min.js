!function(){var t={},n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},r=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,i=/[&<>"']/g;function o(t){return n[t]}function a(t){return e[t]}function s(t){return null==t?"":String(t).replace(i,o)}function u(t){return null==t?"":String(t).replace(r,a)}s.options=u.options={},t={encode:s,escape:s,decode:u,unescape:u,version:"1.0.0-browser"};var l=function(t){return"string"==typeof t?t.toLowerCase():t};function c(t,n){return t[n]=!0,t}var f=function(t){return t.reduce(c,{})},d=f(["background","base","cite","href","longdesc","src","usemap"]),g={voids:f(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])},h=g,p=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,b=/^<\s*\/\s*([\w:-]+)[^>]*>/,v=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,w=/^<\s*\//,x=function(n,e){var r,i=e||{};return s(),{start:function(n,e,s){var u=l(n);r.ignoring||-1===(i.allowedTags||[]).indexOf(u)||i.filter&&!i.filter({tag:u,attrs:e})?a(u):(o("<"),o(u),Object.keys(e).forEach((function(n){var r,a=e[n],s=(i.allowedClasses||{})[u]||[],c=(i.allowedAttributes||{})[u]||[];c=c.concat((i.allowedAttributes||{})["*"]||[]);var f=l(n);"class"===f&&-1===c.indexOf(f)?r=(a=a.split(" ").filter((function(t){return s&&-1!==s.indexOf(t)})).join(" ").trim()).length:r=-1!==c.indexOf(f)&&(!0!==d[f]||function(t){var n=t[0];if("#"===n||"/"===n)return!0;var e=t.indexOf(":");if(-1===e)return!0;var r=t.indexOf("?");if(-1!==r&&e>r)return!0;var o=t.indexOf("#");return-1!==o&&e>o||i.allowedSchemes.some((function(n){return 0===t.indexOf(n+":")}))}(a)),r&&(o(" "),o(n),"string"==typeof a&&(o('="'),o(t.encode(a)),o('"')))})),o(s?"/>":">"))},end:function(t){var n=l(t);-1!==(i.allowedTags||[]).indexOf(n)&&!1===r.ignoring?(o("</"),o(n),o(">")):function(t){r.ignoring===t&&--r.depth<=0&&s()}(n)},chars:function(t){!1===r.ignoring&&o(i.transformText?i.transformText(t):t)}};function o(t){n.push(t)}function a(t){g.voids[t]||(!1===r.ignoring?r={ignoring:t,depth:1}:r.ignoring===t&&r.depth++)}function s(){r={ignoring:!1,depth:0}}},O={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};function y(n,e,r){var i=[],o=!0===r?e:function t(n){for(var e,r,i=Array.prototype.slice.call(arguments,1);i.length;)for(r in e=i.shift())e.hasOwnProperty(r)&&("[object Object]"===Object.prototype.toString.call(n[r])?n[r]=t(n[r],e[r]):n[r]=e[r]);return n}({},O,e);return function(n,e){for(var r,i=function(){var t=[];return t.lastItem=function(){return t[t.length-1]},t}(),o=n;n;)a();function a(){var t;r=!0,"\x3c!--"===n.substr(0,4)?(t=n.indexOf("--\x3e"))>=0&&(e.comment&&e.comment(n.substring(4,t)),n=n.substring(t+3),r=!1):w.test(n)?s(b,c):m.test(n)&&s(p,u),function(){if(r){var t,i=n.indexOf("<");i>=0?(t=n.substring(0,i),n=n.substring(i)):(t=n,n=""),e.chars&&e.chars(t)}}();var i=n===o;o=n,i&&(n="")}function s(t,e){var i=n.match(t);i&&(n=n.substring(i[0].length),i[0].replace(t,e),r=!1)}function u(n,r,o,a){var s={},u=l(r),c=h.voids[u]||!!a;o.replace(v,(function(n,e,r,i,o){s[e]=void 0===r&&void 0===i&&void 0===o?void 0:t.decode(r||i||o||"")})),c||i.push(u),e.start&&e.start(u,s,c)}function c(t,n){var r,o=0,a=l(n);if(a)for(o=i.length-1;o>=0&&i[o]!==a;o--);if(o>=0){for(r=i.length-1;r>=o;r--)e.end&&e.end(i[r]);i.length=o}}c()}(n,x(i,o)),i.join("")}y.defaults=O,window&&(window.insane=y)}();